# Node.js with React
# Build a Node.js project that uses React.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript

name: $(Rev:r)

trigger:
- master

pool:
  vmImage: 'macOS-latest'

steps:
# - task: NodeTool@0
#   inputs:
#     versionSpec: '9.7.1'
#   displayName: 'Install Node'

# - script: npm install
#   displayName: 'Install dependencies'

# - script: npm run test
#   displayName: 'Run unit tests'

- task: VersionAssemblies@2
  inputs:
    sourcePath: 'android/'
    filePattern: 'build.gradle'
    versionSource: 'buildNumber'
    versionFormat: 'custom'
    customBuildRegex: '(?:\d+)'
    replaceVersionFormat: 'custom'
    customReplaceRegex: 'versionName = "\d.\d.\d+'
    replacePrefix: 'versionName = "'
  displayName: 'Fazendo um bump de vers√£o'



- script: cat android/build.gradle
  displayName: 'Mostrando o cat'